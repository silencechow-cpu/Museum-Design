{
  "CollectionDetail": [
    ";\n\n// 模拟数据 - 实际应用中应从API获取\nconst mockCollectionDetails: Record<string, any> = {\n  ",
    "故宫博物院",
    "故宮博物院",
    "清代珐琅彩瓷瓶",
    "清代琺瑯彩瓷瓶",
    "征集以珐琅彩瓷为灵感的现代文创产品设计",
    "徵集以琺瑯彩瓷為靈感的現代文創產品設計",
    "清代珐琅彩瓷器是中国陶瓷艺术的巅峰之作，以其精湛的工艺和绚丽的色彩闻名于世。本次征集希望设计师能够从珐琅彩的色彩搭配、纹样图案、工艺特点中汲取灵感，创作出既传承传统文化又符合现代审美的文创产品。",
    "清代琺瑯彩瓷器是中國陶瓷藝術的巔峰之作，以其精湛的工藝和絢麗的色彩聞名於世。本次徵集希望設計師能夠從琺瑯彩的色彩搭配、紋樣圖案、工藝特點中汲取靈感，創作出既傳承傳統文化又符合現代審美的文創產品。",
    "设计作品需体现珐琅彩瓷器的艺术特色",
    "产品类型不限：可以是日用品、装饰品、文具、服饰配件等",
    "提交完整的设计方案，包含效果图、尺寸标注、材质说明",
    "设计需具有可实现性和市场价值",
    "作品需为原创，不得侵犯他人知识产权",
    "設計作品需體現琺瑯彩瓷器的藝術特色",
    "產品類型不限：可以是日用品、裝飾品、文具、服飾配件等",
    "提交完整的設計方案，包含效果圖、尺寸標註、材質說明",
    "設計需具有可實現性和市場價值",
    "作品需為原創，不得侵犯他人知識產權",
    "一等奖1名：奖金¥50,000 + 荣誉证书\\n二等奖3名：奖金¥10,000 + 荣誉证书\\n三等奖10名：奖金¥3,000 + 荣誉证书\\n优秀奖30名：荣誉证书",
    "一等獎1名：獎金¥50,000 + 榮譽證書\\n二等獎3名：獎金¥10,000 + 榮譽證書\\n三等獎10名：獎金¥3,000 + 榮譽證書\\n優秀獎30名：榮譽證書",
    "文物高清素材包.zip",
    "征集要求详细说明.pdf",
    "国家博物馆",
    "國家博物館",
    "商代青铜爵",
    "商代青銅爵",
    "以青铜器纹样为元素的平面设计作品征集",
    "以青銅器紋樣為元素的平面設計作品徵集",
    "商代青铜器以其独特的饕餮纹、云雷纹等纹样著称，蕴含着深厚的历史文化内涵。本次征集面向平面设计领域，希望设计师能够将青铜器纹样与现代平面设计相结合，创作出具有视觉冲击力的作品。",
    "商代青銅器以其獨特的饕餮紋、雲雷紋等紋樣著稱，蘊含著深厚的歷史文化內涵。本次徵集面向平面設計領域，希望設計師能夠將青銅器紋樣與現代平面設計相結合，創作出具有視覺衝擊力的作品。",
    "作品类型：海报、插画、包装设计、品牌视觉等",
    "需融入青铜器纹样元素",
    "提交高清源文件（AI/PSD格式）",
    "附带设计说明（300字以内）",
    "作品尺寸不限，但需适合印刷输出",
    "作品類型：海報、插畫、包裝設計、品牌視覺等",
    "需融入青銅器紋樣元素",
    "附帶設計說明（300字以內）",
    "作品尺寸不限，但需適合印刷輸出",
    "金奖1名：奖金¥30,000 + 荣誉证书\\n银奖2名：奖金¥15,000 + 荣誉证书\\n铜奖5名：奖金¥5,000 + 荣誉证书",
    "金獎1名：獎金¥30,000 + 榮譽證書\\n銀獎2名：獎金¥15,000 + 榮譽證書\\n銅獎5名：獎金¥5,000 + 榮譽證書",
    "青铜器纹样高清素材.zip",
    "征集规则说明.pdf",
    "上海博物馆",
    "上海博物館",
    "明代青花瓷盘",
    "明代青花瓷盤",
    "青花瓷图案在现代家居用品中的创新应用",
    "青花瓷圖案在現代家居用品中的創新應用",
    "明代青花瓷以其清新淡雅的蓝白色调和精美的图案设计闻名。本次征集聚焦家居用品领域，期待设计师将青花瓷的经典元素融入现代家居产品中，创造出兼具实用性与艺术性的设计作品。",
    "明代青花瓷以其清新淡雅的藍白色調和精美的圖案設計聞名。本次徵集聚焦家居用品領域，期待設計師將青花瓷的經典元素融入現代家居產品中，創造出兼具實用性與藝術性的設計作品。",
    "产品类型：餐具、茶具、花瓶、装饰品等家居用品",
    "需体现青花瓷的艺术特色",
    "提交3D效果图或实物样品照片",
    "包含产品尺寸、材质、工艺说明",
    "考虑批量生产的可行性",
    "產品類型：餐具、茶具、花瓶、裝飾品等家居用品",
    "需體現青花瓷的藝術特色",
    "提交3D效果圖或實物樣品照片",
    "包含產品尺寸、材質、工藝說明",
    "考慮批量生產的可行性",
    "特等奖1名：奖金¥40,000 + 荣誉证书 + 产品化机会\\n一等奖2名：奖金¥20,000 + 荣誉证书\\n二等奖5名：奖金¥8,000 + 荣誉证书",
    "特等獎1名：獎金¥40,000 + 榮譽證書 + 產品化機會\\n一等獎2名：獎金¥20,000 + 榮譽證書\\n二等獎5名：獎金¥8,000 + 榮譽證書",
    "青花瓷高清图库.zip",
    "设计规范文档.pdf",
    ";\n  const collection = mockCollectionDetails[collectionId];\n\n  // 倒计时计算\n  useEffect(() => {\n    if (!collection) return;\n\n    const calculateTimeLeft = () => {\n      const deadline = new Date(collection.deadline).getTime();\n      const now = new Date().getTime();\n      const difference = deadline - now;\n\n      if (difference > 0) {\n        setTimeLeft({\n          days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n          hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n          minutes: Math.floor((difference / 1000 / 60) % 60),\n          seconds: Math.floor((difference / 1000) % 60),\n        });\n      }\n    };\n\n    calculateTimeLeft();\n    const timer = setInterval(calculateTimeLeft, 1000);\n\n    return () => clearInterval(timer);\n  }, [collection]);\n\n  // 图片切换函数\n  const nextImage = () => {\n    if (collection && currentImageIndex < collection.images.length - 1) {\n      setCurrentImageIndex(currentImageIndex + 1);\n    }\n  };\n\n  const prevImage = () => {\n    if (currentImageIndex > 0) {\n      setCurrentImageIndex(currentImageIndex - 1);\n    }\n  };\n\n  // 触摸滑动支持\n  const handleTouchStart = (e: React.TouchEvent) => {\n    setTouchStart(e.targetTouches[0].clientX);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    setTouchEnd(e.targetTouches[0].clientX);\n  };\n\n  const handleTouchEnd = () => {\n    if (!touchStart || !touchEnd) return;\n    \n    const distance = touchStart - touchEnd;\n    const minSwipeDistance = 50;\n    \n    if (distance > minSwipeDistance) {\n      // 向左滑动，显示下一张\n      nextImage();\n    } else if (distance < -minSwipeDistance) {\n      // 向右滑动，显示上一张\n      prevImage();\n    }\n    \n    setTouchStart(0);\n    setTouchEnd(0);\n  };\n\n  if (!collection) {\n    return (\n      <div className=",
    ">征集项目不存在</h2>\n          <Link href=",
    ">返回首页</a>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=",
    "\n        keywords={`${collection.museum[language]},${collection.artifact[language]},文创征集,设计比赛,博物馆`}\n        url={typeof window !== ",
    " ? window.location.href : undefined}\n      />\n      <Navigation />\n\n      {/* 面包屑导航 */}\n      <div className=",
    " />\n            返回首页\n          </a>\n        </Link>\n      </div>\n\n      <div className=",
    ">\n          {/* 左侧：图片展示 */}\n          <div className=",
    ">\n            {/* 主图 */}\n            <div \n              className=",
    "\n              />\n              \n              {/* 放大提示 */}\n              <div className=",
    ">\n                  点击查看大图\n                </div>\n              </div>\n              \n              {/* 左右箭头导航 */}\n              {currentImageIndex > 0 && (\n                <button\n                  onClick={prevImage}\n                  className=",
    "上一张",
    "下一张",
    " />\n                </button>\n              )}\n              \n              {/* 图片计数器 */}\n              <div className=",
    ">\n                {currentImageIndex + 1} / {collection.images.length}\n              </div>\n            </div>\n\n            {/* 缩略图导航 */}\n            <div className=",
    " \n                  />\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* 右侧：详细信息 */}\n          <div className=",
    " }}>\n            {/* 博物馆标识 */}\n            <div className=",
    ">{collection.museum[language]}</span>\n            </div>\n\n            {/* 标题 */}\n            <h1 className=",
    ">{collection.artifact[language]}</h1>\n\n            {/* 简短描述 */}\n            <p className=",
    ">{collection.description[language]}</p>\n\n            {/* 状态标识 */}\n            <div className=",
    "征集中",
    "已暂停",
    "已结束",
    "草稿",
    ">征集倒计时</span>\n              </div>\n              <div className=",
    ">天</div>\n                </div>\n                <div className=",
    ">时</div>\n                </div>\n                <div className=",
    ">分</div>\n                </div>\n                <div className=",
    ">秒</div>\n                </div>\n              </div>\n            </div>\n\n            {/* 奖金信息 */}\n            <div className=",
    ">奖金设置</span>\n              </div>\n              <div className=",
    ">总奖金 {collection.prize[language]}</div>\n              <div className=",
    ">{collection.prizeDetails[language]}</div>\n            </div>\n\n            {/* 截止日期 */}\n            <div className=",
    " />\n              <span>截止日期：{new Date(collection.deadline).toLocaleDateString(language)}</span>\n            </div>\n\n            {/* 操作按钮 */}\n            <div className=",
    "\n              >\n                立即参与征集\n              </button>\n              <FavoriteButton \n                targetType=",
    "\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* 详细信息区域 */}\n        <div className=",
    ">\n          {/* 征集说明 */}\n          <div className=",
    ">征集说明</h2>\n              <p className=",
    ">征集要求</h3>\n              <ul className=",
    ">{req}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n\n          {/* 资料下载 */}\n          <div className=",
    ">资料下载</h3>\n              <div className=",
    ">\n                  下载资料包含文物高清素材、征集详细要求等内容，请仔细阅读后再进行设计创作。\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* 作品提交对话框 */}\n        <WorkSubmissionDialog \n          collectionId={collection.id} \n          collectionTitle={collection.artifact[language]}\n          open={submissionDialogOpen}\n          onOpenChange={setSubmissionDialogOpen}\n        />\n\n        {/* 已提交作品列表 */}\n        <div className=",
    ">已提交作品</h2>\n            <p className="
  ],
  "WorkDetail": [
    ");\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [lightboxOpen, setLightboxOpen] = useState(false);\n\n  // 获取作品完整详情\n  const { data: workDetail, isLoading } = trpc.work.getDetailById.useQuery({ id: workId });\n\n  // 格式化日期\n  const formatDate = (date: Date) => {\n    return new Date(date).toLocaleDateString(",
    ");\n  };\n\n  // 获取状态标签样式\n  const getStatusBadge = (status: string) => {\n    const statusMap: Record<string, { label: string; className: string }> = {\n      submitted: { label: ",
    "已通过",
    "未通过",
    "获奖作品",
    " },\n    };\n    return statusMap[status] || statusMap.submitted;\n  };\n\n  // 图片导航\n  const nextImage = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (workDetail && workDetail.images) {\n      const images = JSON.parse(workDetail.images);\n      setCurrentImageIndex((prev) => (prev + 1) % images.length);\n    }\n  };\n\n  const prevImage = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (workDetail && workDetail.images) {\n      const images = JSON.parse(workDetail.images);\n      setCurrentImageIndex((prev) => (prev - 1 + images.length) % images.length);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=",
    ">作品不存在</h1>\n          <Link href=",
    ">返回首页</Button>\n          </Link>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const images = workDetail.images ? JSON.parse(workDetail.images) : [];\n  const tags = workDetail.tags ? JSON.parse(workDetail.tags) : [];\n  const statusBadge = getStatusBadge(workDetail.status);\n\n  return (\n    <div className=",
    ">\n      <SEOHead\n        title={workDetail.title}\n        description={workDetail.description || `${workDetail.title}的详细信息`}\n        type=",
    "\n        keywords={`${workDetail.title},文创设计,${tags.join(",
    ">\n        {/* 返回按钮和分享按钮 */}\n        <div className=",
    " />\n            返回\n          </Button>\n          <ShareButton\n            title={workDetail.title}\n            description={workDetail.description || `${workDetail.title}的详细信息`}\n            variant=",
    ">\n          {/* 左侧：作品图片和基本信息 */}\n          <div className=",
    ">\n            {/* 主图展示 */}\n            {images.length > 0 && (\n              <Card>\n                <CardContent className=",
    "\n                    />\n                    \n                    {/* 放大提示 */}\n                    <div className=",
    ">\n                        点击查看大图\n                      </div>\n                    </div>\n\n                    {/* 左右箭头 */}\n                    {images.length > 1 && (\n                      <>\n                        {currentImageIndex > 0 && (\n                          <button\n                            onClick={prevImage}\n                            className=",
    " />\n                          </button>\n                        )}\n                      </>\n                    )}\n\n                    {/* 图片计数 */}\n                    {images.length > 1 && (\n                      <div className=",
    ">\n                        {currentImageIndex + 1} / {images.length}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* 缩略图 */}\n                  {images.length > 1 && (\n                    <div className=",
    " \n                          />\n                        </button>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            )}\n\n            {/* 作品详细信息 */}\n            <Card>\n              <CardHeader>\n                <div className=",
    ">\n                {/* 作品描述 */}\n                {workDetail.description && (\n                  <div>\n                    <h3 className=",
    ">作品说明</h3>\n                    <p className=",
    ">\n                      {workDetail.description}\n                    </p>\n                  </div>\n                )}\n\n                {/* 标签 */}\n                {tags.length > 0 && (\n                  <div>\n                    <h3 className=",
    ">标签</h3>\n                    <div className=",
    ">\n                          {tag}\n                        </Badge>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* 右侧：设计师、征集信息和评分 */}\n          <div className=",
    ">\n            {/* 设计师信息 */}\n            {workDetail.designer && (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=",
    ">设计师</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <Link href={`/designer/${workDetail.designer.id}`}>\n                    <div className=",
    " />\n                    </div>\n                  </Link>\n                </CardContent>\n              </Card>\n            )}\n\n            {/* 征集项目信息 */}\n            {workDetail.collection && (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=",
    ">所属征集</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <Link href={`/collection/${workDetail.collection.id}`}>\n                    <div className="
  ],
  "MuseumDetail": [
    ");\n\n  // 获取博物馆信息\n  const { data: museum, isLoading: museumLoading } = trpc.museum.getById.useQuery({ id: museumId });\n\n  // 获取博物馆的征集项目\n  const { data: collections, isLoading: collectionsLoading } = trpc.collection.search.useQuery({\n    museumId,\n  });\n\n  // 格式化日期\n  const formatDate = (date: Date) => {\n    return new Date(date).toLocaleDateString(",
    ">博物馆不存在</h1>\n          <Link href=",
    ">返回首页</Button>\n          </Link>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=",
    ">\n      <SEOHead\n        title={museum.name}\n        description={museum.description || `${museum.name}的详细信息和历史征集项目`}\n        type=",
    "\n        keywords={`${museum.name},博物馆,文创征集,${museum.address || ",
    ">\n        {/* 博物馆基本信息 */}\n        <Card className=",
    "暂无简介",
    ">地址</div>\n                    <div className=",
    ">邮箱</div>\n                    <div className=",
    ">电话</div>\n                    <div className=",
    ">官网</div>\n                    <div className=",
    "\n                      >\n                        {museum.website}\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* 历史征集项目 */}\n        <Card>\n          <CardHeader>\n            <CardTitle>历史征集项目</CardTitle>\n            <CardDescription>该博物馆发布的所有文创设计征集</CardDescription>\n          </CardHeader>\n\n          <CardContent>\n            {collectionsLoading ? (\n              <div className=",
    "进行中",
    "已截止",
    "已完成",
    "草稿",
    "\n                      >\n                        查看详情\n                      </Button>\n                    </Link>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className="
  ],
  "DesignerDetail": [
    ");\n  const [lightboxOpen, setLightboxOpen] = useState(false);\n  const [lightboxImages, setLightboxImages] = useState<string[]>([]);\n  const [lightboxIndex, setLightboxIndex] = useState(0);\n\n  // 获取设计师信息\n  const { data: designer, isLoading: designerLoading } = trpc.designer.getById.useQuery({ id: designerId });\n\n  // 获取设计师的作品\n  const { data: works, isLoading: worksLoading } = trpc.work.getByDesignerId.useQuery({ designerId });\n\n  if (designerLoading) {\n    return (\n      <div className=",
    ">设计师不存在</h1>\n          <Link href=",
    ">返回首页</Button>\n          </Link>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=",
    ">\n      <SEOHead\n        title={designer.displayName}\n        description={designer.bio || `${designer.displayName}的个人主页和作品集`}\n        type=",
    "\n        keywords={`${designer.displayName},设计师,文创设计,${designer.skills || ",
    ">\n        {/* 设计师基本信息 */}\n        <Card className=",
    "暂无简介",
    ">技能标签</div>\n                    <div className=",
    ">所属机构</div>\n                    <div className=",
    ">作品集</div>\n                    <div className=",
    "\n                      >\n                        {designer.portfolio}\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* 历史作品 */}\n        <Card>\n          <CardHeader>\n            <CardTitle>历史作品</CardTitle>\n            <CardDescription>该设计师提交的所有文创设计作品</CardDescription>\n          </CardHeader>\n\n          <CardContent>\n            {worksLoading ? (\n              <div className=",
    ">\n                      {/* 作品图片 */}\n                      {work.images && JSON.parse(work.images).length > 0 ? (\n                      <div \n                        className=",
    ">\n                            查看大图\n                          </div>\n                        </div>\n                      </div>\n                      ) : (\n                        <div className=",
    " />\n                        </div>\n                      )}\n\n                      {/* 作品信息 */}\n                      <div className=",
    "已通过",
    "未通过",
    "审核中"
  ],
  "CollectionList": [
    " });\n  const [page, setPage] = useState(1);\n  const [allCollections, setAllCollections] = useState<any[]>([]);\n  const [hasMore, setHasMore] = useState(true);\n  const [total, setTotal] = useState(0);\n\n  // 稳定的查询参数（避免无限循环）\n  const queryParams = useMemo(() => ({\n    ...searchFilters,\n    page,\n    pageSize: 20,\n  }), [searchFilters, page]);\n\n  // 获取征集列表（分页）\n  const { data, isLoading, isFetching } = trpc.collection.search.useQuery(queryParams);\n\n  // 当数据返回时更新列表\n  useEffect(() => {\n    if (data) {\n      if (page === 1) {\n        // 第一页：替换所有数据\n        setAllCollections(data.items);\n      } else {\n        // 后续页：追加数据\n        setAllCollections(prev => [...prev, ...data.items]);\n      }\n      setHasMore(data.hasMore);\n      setTotal(data.total);\n    }\n  }, [data, page]);\n\n  // 当筛选条件改变时，重置分页\n  useEffect(() => {\n    setPage(1);\n    setAllCollections([]);\n    setHasMore(true);\n  }, [searchFilters]);\n\n  // 加载更多\n  const handleLoadMore = useCallback(() => {\n    if (!isFetching && hasMore) {\n      setPage(prev => prev + 1);\n    }\n  }, [isFetching, hasMore]);\n\n  // 无限滚动\n  const { sentinelRef } = useInfiniteScroll({\n    loading: isFetching,\n    hasMore,\n    onLoadMore: handleLoadMore,\n    threshold: 300,\n  });\n\n  const handleSearch = (filters: SearchFilters) => {\n    setSearchFilters(filters);\n  };\n\n  // 格式化日期\n  const formatDate = (date: Date) => {\n    return new Date(date).toLocaleDateString(",
    "征集列表",
    "浏览所有博物馆文创征集项目，发现创意设计机会",
    "征集,博物馆,文创,设计,比赛",
    ">\n          {/* 页面标题 */}\n          <div className=",
    ")}\n            </p>\n          </div>\n\n          {/* 搜索和筛选 */}\n          <CollectionSearchFilter onSearch={handleSearch} />\n\n          {/* 统计显示 */}\n          {!isLoading && total > 0 && (\n            <div className=",
    ")}\n            </div>\n          )}\n\n          {/* 初始加载状态 */}\n          {isLoading && page === 1 && (\n            <div className=",
    " />\n            </div>\n          )}\n\n          {/* 空状态 */}\n          {!isLoading && allCollections.length === 0 && (\n            <div className=",
    ")}</p>\n            </div>\n          )}\n\n          {/* 征集卡片网格 */}\n          {allCollections.length > 0 && (\n            <>\n              <div className=",
    "\n                  >\n                    {/* 文物图片 */}\n                    <div className=",
    "\n                      />\n                      {/* 印章式标记 */}\n                      <div className=",
    ")}</span>\n                      </div>\n                      \n                      {/* 快捷操作按钮 */}\n                      <div className=",
    ">\n                        <button \n                          onClick={(e) => {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            // TODO: 实现分享功能\n                            alert(t(",
    " />\n                        </button>\n                        <button \n                          onClick={(e) => {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            // TODO: 实现收藏功能\n                            alert(t(",
    " />\n                        </button>\n                      </div>\n                      \n                      {/* 渐变遮罩 */}\n                      <div className=",
    " />\n                    </div>\n\n                    {/* 内容区域 */}\n                    <div className=",
    ")}\n                        </button>\n                      </Link>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* 无限滚动哨兵元素 */}\n              <div ref={sentinelRef} className="
  ],
  "WorkList": [
    ");\n  const [page, setPage] = useState(1);\n  const [allWorks, setAllWorks] = useState<any[]>([]);\n  const [hasMore, setHasMore] = useState(true);\n  const [total, setTotal] = useState(0);\n\n  // 稳定的查询参数（避免无限循环）\n  const queryParams = useMemo(() => ({\n    keyword: searchTerm || undefined,\n    status: statusFilter !== ",
    " ? (statusFilter as any) : undefined,\n    page,\n    pageSize: 20,\n  }), [searchTerm, statusFilter, page]);\n\n  // 获取作品列表（分页）\n  const { data, isLoading, isFetching } = trpc.work.search.useQuery(queryParams);\n\n  // 当数据返回时更新列表\n  useEffect(() => {\n    if (data) {\n      if (page === 1) {\n        // 第一页：替换所有数据\n        setAllWorks(data.items);\n      } else {\n        // 后续页：追加数据\n        setAllWorks(prev => [...prev, ...data.items]);\n      }\n      setHasMore(data.hasMore);\n      setTotal(data.total);\n    }\n  }, [data, page]);\n\n  // 当筛选条件改变时，重置分页\n  useEffect(() => {\n    setPage(1);\n    setAllWorks([]);\n    setHasMore(true);\n  }, [searchTerm, statusFilter]);\n\n  // 加载更多\n  const handleLoadMore = useCallback(() => {\n    if (!isFetching && hasMore) {\n      setPage(prev => prev + 1);\n    }\n  }, [isFetching, hasMore]);\n\n  // 无限滚动\n  const { sentinelRef } = useInfiniteScroll({\n    loading: isFetching,\n    hasMore,\n    onLoadMore: handleLoadMore,\n    threshold: 300,\n  });\n\n  // 获取已选筛选条件\n  const getActiveFilters = () => {\n    const filters: Array<{ key: string; label: string }> = [];\n    \n    if (searchTerm.trim()) {\n      filters.push({ key: ",
    ")}: ${statusLabels[statusFilter]}` });\n    }\n    \n    return filters;\n  };\n\n  // 移除单个筛选条件\n  const handleRemoveFilter = (key: string) => {\n    if (key === ",
    ");\n    }\n  };\n\n  // 重置所有筛选\n  const handleResetFilters = () => {\n    setSearchTerm(",
    ">\n        {/* 返回按钮 */}\n        <Button\n          variant=",
    ")}\n        </Button>\n\n        {/* 页面标题 */}\n        <div className=",
    ")}\n          </p>\n        </div>\n\n        {/* 搜索和筛选栏 */}\n        <div className=",
    ">\n            {/* 搜索框 */}\n            <div className=",
    "\n              />\n            </div>\n\n            {/* 状态筛选 */}\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=",
    ")}</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* 已选筛选条件标签 */}\n          {activeFilters.length > 0 && (\n            <div className=",
    ")}\n              </Button>\n            </div>\n          )}\n        </div>\n\n        {/* 结果统计 */}\n        {!isLoading && total > 0 && (\n          <div className=",
    ")}\n          </div>\n        )}\n\n        {/* 初始加载状态 */}\n        {isLoading && page === 1 && (\n          <div className=",
    " />\n          </div>\n        )}\n\n        {/* 空状态 */}\n        {!isLoading && allWorks.length === 0 && (\n          <div className=",
    ")}</p>\n          </div>\n        )}\n\n        {/* 作品网格 */}\n        {allWorks.length > 0 && (\n          <>\n            <div className=",
    ">\n                    {/* 作品图片 */}\n                    <div className=",
    "\n                      />\n                      {/* 获奖标记 */}\n                      {work.status === ",
    ")}</span>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* 作品信息 */}\n                    <div className=",
    ")}\n                      </p>\n\n                      {/* 评分显示 */}\n                      <WorkRatingDisplay workId={work.id} />\n\n                      {/* 状态标签 */}\n                      <div className=",
    ")}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n              ))}\n            </div>\n\n            {/* 无限滚动哨兵元素 */}\n            <div ref={sentinelRef} className="
  ],
  "MuseumList": [
    ");\n  const [province, setProvince] = useState<string | undefined>();\n  const [allMuseums, setAllMuseums] = useState<any[]>([]);\n  const [hasMore, setHasMore] = useState(true);\n  const [total, setTotal] = useState(0);\n\n  // 稳定的查询参数（避免无限循环）\n  const queryParams = useMemo(() => ({\n    page,\n    pageSize,\n    sortBy,\n    sortOrder,\n    keyword: keyword || undefined,\n    province,\n  }), [page, pageSize, sortBy, sortOrder, keyword, province]);\n\n  const { data, isLoading, isFetching } = trpc.museum.listPaginated.useQuery(queryParams);\n\n  // 当数据返回时更新列表\n  useEffect(() => {\n    if (data) {\n      if (page === 1) {\n        // 第一页：替换所有数据\n        setAllMuseums(data.museums);\n      } else {\n        // 后续页：追加数据\n        setAllMuseums(prev => [...prev, ...data.museums]);\n      }\n      setHasMore(page < data.totalPages);\n      setTotal(data.total);\n    }\n  }, [data, page]);\n\n  // 当筛选条件改变时，重置分页\n  useEffect(() => {\n    setPage(1);\n    setAllMuseums([]);\n    setHasMore(true);\n  }, [keyword, province, sortBy, sortOrder]);\n\n  // 加载更多\n  const handleLoadMore = useCallback(() => {\n    if (!isFetching && hasMore) {\n      setPage(prev => prev + 1);\n    }\n  }, [isFetching, hasMore]);\n\n  // 无限滚动\n  const { sentinelRef } = useInfiniteScroll({\n    loading: isFetching,\n    hasMore,\n    onLoadMore: handleLoadMore,\n    threshold: 300,\n  });\n\n  const handleSearch = () => {\n    setKeyword(searchInput);\n  };\n\n  const handleSortChange = (value: string) => {\n    const [newSortBy, newSortOrder] = value.split(",
    " ? undefined : value);\n  };\n\n  // 获取已选筛选条件\n  const getActiveFilters = () => {\n    const filters: Array<{ key: string; label: string }> = [];\n    \n    if (keyword.trim()) {\n      filters.push({ key: ",
    ", label: `关键词: ${keyword}` });\n    }\n    \n    if (province) {\n      filters.push({ key: ",
    ", label: `地区: ${province}` });\n    }\n    \n    return filters;\n  };\n\n  // 移除单个筛选条件\n  const handleRemoveFilter = (key: string) => {\n    if (key === ",
    ") {\n      setProvince(undefined);\n    }\n  };\n\n  // 重置所有筛选\n  const handleResetFilters = () => {\n    setKeyword(",
    "博物馆列表",
    "浏览全国博物馆，发现文创征集项目，参与文化遗产的创意设计。",
    "博物馆,文创,征集,文化遗产",
    ">\n        {/* 页面标题 */}\n        <div className=",
    ">博物馆列表</h1>\n          <p className=",
    ">探索全国博物馆，发现文创征集机会</p>\n        </div>\n\n        {/* 搜索和筛选区域 */}\n        <div className=",
    ">\n            {/* 搜索框 */}\n            <div className=",
    "搜索博物馆名称或描述...",
    ">\n                  搜索\n                </Button>\n              </div>\n            </div>\n\n            {/* 地区筛选 */}\n            <div className=",
    "选择省份",
    ">全部地区</SelectItem>\n                  <SelectItem value=",
    ">北京</SelectItem>\n                  <SelectItem value=",
    ">上海</SelectItem>\n                  <SelectItem value=",
    ">江苏</SelectItem>\n                  <SelectItem value=",
    ">浙江</SelectItem>\n                  <SelectItem value=",
    ">陕西</SelectItem>\n                  <SelectItem value=",
    ">河南</SelectItem>\n                  <SelectItem value=",
    ">湖北</SelectItem>\n                  <SelectItem value=",
    ">四川</SelectItem>\n                  <SelectItem value=",
    ">广东</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            {/* 排序选择 */}\n            <div className=",
    ">最新加入</SelectItem>\n                  <SelectItem value=",
    ">最早加入</SelectItem>\n                  <SelectItem value=",
    ">名称 A-Z</SelectItem>\n                  <SelectItem value=",
    ">名称 Z-A</SelectItem>\n                  <SelectItem value=",
    ">征集数量最多</SelectItem>\n                  <SelectItem value=",
    ">征集数量最少</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          {/* 已选筛选条件标签 */}\n          {activeFilters.length > 0 && (\n            <div className=",
    ">已选条件：</span>\n              {activeFilters.map(filter => (\n                <Badge \n                  key={filter.key} \n                  variant=",
    ">\n                清除全部\n              </Button>\n            </div>\n          )}\n        </div>\n\n        {/* 统计显示 */}\n        {!isLoading && total > 0 && (\n          <div className=",
    ">\n            找到 <span className=",
    ">{total}</span> 个博物馆\n          </div>\n        )}\n\n        {/* 初始加载状态 */}\n        {isLoading && page === 1 ? (\n          <div className=",
    ">加载中...</p>\n          </div>\n        ) : allMuseums.length === 0 ? (\n          <div className=",
    ">暂无博物馆数据</p>\n          </div>\n        ) : (\n          <>\n            <div className=",
    "暂无描述",
    " />\n                          <span>{museum.collectionsCount || 0} 个征集</span>\n                        </div>\n                      </div>\n\n                      {/* 认证标识 */}\n                      {museum.verified === 1 && (\n                        <div className=",
    ">\n                            已认证\n                          </span>\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                </Link>\n              ))}\n            </div>\n\n            {/* 无限滚动哨兵元素 */}\n            <div ref={sentinelRef} className="
  ],
  "DesignerList": [
    "个人设计师",
    "设计团队",
    "高校社团",
    " | undefined>();\n\n  const { data, isLoading } = trpc.designer.listPaginated.useQuery({\n    page,\n    pageSize,\n    sortBy,\n    sortOrder,\n    keyword: keyword || undefined,\n    type,\n  });\n\n  const handleSearch = () => {\n    setKeyword(searchInput);\n    setPage(1); // 重置到第一页\n  };\n\n  const handleSortChange = (value: string) => {\n    const [newSortBy, newSortOrder] = value.split(",
    "设计师列表",
    "浏览优秀设计师，发现创意人才，参与文创设计项目。",
    "设计师,创意设计,文创,人才",
    ">\n        {/* 页面标题 */}\n        <div className=",
    ">设计师列表</h1>\n          <p className=",
    ">发现优秀创意人才，探索精彩设计作品</p>\n        </div>\n\n        {/* 搜索和筛选区域 */}\n        <div className=",
    ">\n            {/* 搜索框 */}\n            <div className=",
    "搜索设计师名称或简介...",
    ">\n                  搜索\n                </Button>\n              </div>\n            </div>\n\n            {/* 类型筛选 */}\n            <div>\n              <Select value={type || ",
    "选择类型",
    ">全部类型</SelectItem>\n                  <SelectItem value=",
    ">个人设计师</SelectItem>\n                  <SelectItem value=",
    ">设计团队</SelectItem>\n                  <SelectItem value=",
    ">高校社团</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          {/* 排序选择 */}\n          <div className=",
    ">排序方式：</span>\n            <Select value={`${sortBy}-${sortOrder}`} onValueChange={handleSortChange}>\n              <SelectTrigger className=",
    ">最新加入</SelectItem>\n                <SelectItem value=",
    ">最早加入</SelectItem>\n                <SelectItem value=",
    ">名称 A-Z</SelectItem>\n                <SelectItem value=",
    ">名称 Z-A</SelectItem>\n                <SelectItem value=",
    ">作品数量最多</SelectItem>\n                <SelectItem value=",
    ">作品数量最少</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n\n        {/* 设计师列表 */}\n        {isLoading ? (\n          <div className=",
    ">加载中...</p>\n          </div>\n        ) : designers.length === 0 ? (\n          <div className=",
    ">暂无设计师数据</p>\n          </div>\n        ) : (\n          <>\n            <div className=",
    "暂无简介",
    " />\n                            <span>{designer.worksCount || 0} 件作品</span>\n                          </div>\n                          {designer.awardsCount > 0 && (\n                            <div className=",
    ">★</span>\n                              <span>{designer.awardsCount} 次获奖</span>\n                            </div>\n                          )}\n                        </div>\n\n                        {designer.skills && (() => {\n                          try {\n                            const skillsArray = JSON.parse(designer.skills);\n                            if (Array.isArray(skillsArray) && skillsArray.length > 0) {\n                              return (\n                                <div className=",
    ">\n                                      +{skillsArray.length - 3}\n                                    </span>\n                                  )}\n                                </div>\n                              );\n                            }\n                          } catch (e) {\n                            // 忽略JSON解析错误\n                          }\n                          return null;\n                        })()}\n                      </CardContent>\n                    </Card>\n                  </Link>\n                );\n              })}\n            </div>\n\n            {/* 分页控件 */}\n            {totalPages > 1 && (\n              <div className=",
    " />\n                  上一页\n                </Button>\n                <div className=",
    "\n                  onClick={() => setPage(p => Math.min(totalPages, p + 1))}\n                  disabled={page === totalPages}\n                >\n                  下一页\n                  <ChevronRight className="
  ],
  "Profile": [
    ";\n\nexport default function Profile() {\n  const { user, loading: authLoading } = useAuth();\n  const [, setLocation] = useLocation();\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n\n  // 检查用户注册状态\n  const { data: onboardingStatus } = trpc.auth.checkOnboardingStatus.useQuery(\n    undefined,\n    {\n      enabled: !!user,\n      retry: false,\n    }\n  );\n\n  // 获取博物馆资料\n  const { data: museumProfile, isLoading: museumLoading } = trpc.museum.getMyProfile.useQuery(\n    undefined,\n    {\n      enabled: !!user && onboardingStatus?.userType === ",
    ",\n    }\n  );\n\n  // 获取设计师资料\n  const { data: designerProfile, isLoading: designerLoading } = trpc.designer.getMyProfile.useQuery(\n    undefined,\n    {\n      enabled: !!user && onboardingStatus?.userType === ",
    ",\n    }\n  );\n\n  // 获取我的征集（博物馆）\n  const { data: myCollections, isLoading: collectionsLoading } = trpc.collection.getMyCollections.useQuery(\n    undefined,\n    {\n      enabled: !!user && onboardingStatus?.userType === ",
    ",\n    }\n  );\n\n  // 获取我的作品（设计师）\n  const { data: myWorks, isLoading: worksLoading } = trpc.work.getMyWorks.useQuery(\n    undefined,\n    {\n      enabled: !!user && onboardingStatus?.userType === ",
    ",\n    }\n  );\n\n  // 获取我的收藏\n  const { data: myFavorites, isLoading: favoritesLoading } = trpc.favorite.getMyFavorites.useQuery();\n\n  // 博物馆编辑表单\n  const [museumForm, setMuseumForm] = useState({\n    name: ",
    ",\n  });\n\n  // 设计师编辑表单\n  const [designerForm, setDesignerForm] = useState({\n    displayName: ",
    ",\n  });\n\n  // 初始化表单数据\n  useEffect(() => {\n    if (museumProfile) {\n      setMuseumForm({\n        name: museumProfile.name || ",
    "资料更新成功！",
    "更新失败，请重试",
    ">\n        {/* 数据统计卡片 */}\n        <div className=",
    ">\n          <UserStatsCards />\n        </div>\n\n        {/* 用户信息卡片 */}\n        <Card className=",
    "博物馆",
    "设计师",
    " />\n                  编辑个人资料\n                </Button>\n                <Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>\n                  <DialogTrigger asChild>\n                    <Button variant=",
    " />\n                      编辑{isMuseum ? ",
    ">\n                  <DialogHeader>\n                    <DialogTitle>编辑{isMuseum ? ",
    ">博物馆名称 *</Label>\n                        <Input\n                          id=",
    ">简介</Label>\n                        <Textarea\n                          id=",
    ">地址</Label>\n                        <Input\n                          id=",
    ">联系邮箱</Label>\n                          <Input\n                            id=",
    ">联系电话</Label>\n                          <Input\n                            id=",
    ">官方网站</Label>\n                        <Input\n                          id=",
    "\n                        >\n                          取消\n                        </Button>\n                        <Button\n                          type=",
    "保存中...",
    "保存",
    ">显示名称 *</Label>\n                        <Input\n                          id=",
    ">类型</Label>\n                        <Select\n                          value={designerForm.type}\n                          onValueChange={(value: ",
    ">个人设计师</SelectItem>\n                            <SelectItem value=",
    ">设计团队</SelectItem>\n                            <SelectItem value=",
    ">高校社团</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n\n                      <div className=",
    ">个人简介</Label>\n                        <Textarea\n                          id=",
    ">所属机构/学校</Label>\n                        <Input\n                          id=",
    ">作品集链接</Label>\n                        <Input\n                          id=",
    ">简介：</span>\n                    <p className=",
    ">地址：</span>\n                    <p className=",
    ">邮箱：</span>\n                    <p className=",
    ">电话：</span>\n                    <p className=",
    ">网站：</span>\n                    <p className=",
    ">类型：</span>\n                  <p className=",
    "个人设计师",
    "设计团队",
    "高校社团",
    ">机构：</span>\n                    <p className=",
    ">作品集：</span>\n                    <p className=",
    ">\n                        {designerProfile.portfolio}\n                      </a>\n                    </p>\n                  </div>\n                )}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* 标签页内容 */}\n        <Tabs defaultValue={isMuseum ? ",
    " />\n                我的征集\n              </TabsTrigger>\n            )}\n            {isDesigner && (\n              <TabsTrigger value=",
    " />\n                我的作品\n              </TabsTrigger>\n            )}\n            <TabsTrigger value=",
    " />\n              我的收藏\n            </TabsTrigger>\n          </TabsList>\n\n          {/* 我的征集（博物馆） */}\n          {isMuseum && (\n            <TabsContent value=",
    ">\n              <Card>\n                <CardHeader>\n                  <CardTitle>我的征集项目</CardTitle>\n                  <CardDescription>您发布的所有文创设计征集项目</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {collectionsLoading ? (\n                    <div className=",
    ">\n                      {myCollections.map((collection) => (\n                        <CollectionManagementCard\n                          key={collection.id}\n                          collection={collection}\n                          onStatusChange={() => {\n                            // 刷新征集列表\n                            trpc.useUtils().collection.getMyCollections.invalidate();\n                          }}\n                          onNavigate={() => setLocation(`/collection/${collection.id}`)}\n                        />\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=",
    " />\n                      <p>您还没有发布任何征集项目</p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n          )}\n\n          {/* 我的作品（设计师） */}\n          {isDesigner && (\n            <TabsContent value=",
    ">\n              <Card>\n                <CardHeader>\n                  <CardTitle>我的作品</CardTitle>\n                  <CardDescription>您提交的所有设计作品</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {worksLoading ? (\n                    <div className=",
    "已通过",
    "未通过",
    "审核中",
    " />\n                      <p>您还没有提交任何作品</p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n          )}\n\n          {/* 我的收藏 */}\n          <TabsContent value=",
    ">\n            <Card>\n              <CardHeader>\n                <CardTitle>我的收藏</CardTitle>\n                <CardDescription>您收藏的征集项目和作品</CardDescription>\n              </CardHeader>\n              <CardContent>\n                {favoritesLoading ? (\n                  <div className=",
    "征集项目",
    "设计作品",
    ">\n                              收藏于 {new Date(favorite.createdAt).toLocaleDateString("
  ]
}